此目录存放本周课后作业，可以在此文件添加作业设计思路和流程图等

# 第一周大作业设计记录

## 1. 设计思路

仔细研究了作业要求后，我认为这是一个比较简单的任务。作业可以分为几个部分，首先是界面的搭建，通过构建 html 骨架和添加 css 样式，可以轻松构建用户注册界面。之后通过 script 来构建具体实现逻辑。因为比较熟悉外联样式和 script，故直接使用外联 style 和 script 文件，将界面和逻辑分离，利于维护。

## 2. 具体实施

界面这一块，我使用了 div 配合 flex 布局，使标题、输入框和注册按钮等实现垂直排列，使用 margin: 0 auto 实现了外层容器居中，使用 align-items 和 justify-content 分别实现交叉轴和主轴的居中。合理使用 gap/padding 和 margin 属性构建起了各元素间的相对位置关系。通过第三方截图工具获取样例中图片元素颜色，并设置到对应元素上。
逻辑方面，通过 document.querySelector()方法获取到各个输入框，并使用 addEventListener()方法为注册按钮添加点击事件。在点击事件中，我通过 e.preventDefault()方法阻止了表单的默认提交行为，并使用 e.target.value 获取到输入框的值。此外，我还通过正则表达式判断输入框的值是否符合要求。
除了对注册按钮添加点击事件外，我通过事件代理方法，监听了各输入框的 input 事件，当输入符合要求时，显示正确图标，隐藏提示文字，实现了响应式操作。我也为各个输入框添加了失去焦点事件，当输入框失去焦点时，我通过 js 文件中的逻辑判断，使用 display 属性动态控制提示文字的显示与隐藏。

## 3. 问题以及改进

起初构建界面的时候，我使用了 div 嵌套 input 元素和 p 元素，界面很容易就搭好了。但写逻辑的时候，我发现如果要实现作业的要求，会有一些复杂。比如说，用户点击注册按钮后，我需要同时判断 6 个输入框的正确性，这样会显得很复杂冗余。研究后我发现使用自带的 form 表单元素，可以方便地提示输入框为空的问题。但是，自带的 form 表单样式与作业要求并不同，此外，form 表单元素无法很好地实现输入框内容的验证。
因此，我保留了 form 表单，但舍弃了自带的提示功能。转而，我手写了 6 组提示文字放在输入框的下方，通过 js 文件中的逻辑判断，使用 display 属性动态控制提示文字的显示与隐藏，实现了这一功能。

关于性能优化。起初我觉得这是一个很小的项目，没有太多必要做很多优化。于是我写了很多 addEventListener 方法，不过这样以来，代码显得臃肿冗余，因此我觉得还是要改进一下我的代码。

首先，我想到了代码复用，对于会多次使用的代码，可以用函数封装，之后用的时候调用函数即可。因此我重构了我的代码，重新编写了 checkValid 和 checkBlur 等方法，分别用于检查输入框内容的合法性和失去焦点时的检查。这样一来，代码就简洁了很多。并且，我还想到了字典，将输入框的 id 和对应的提示语/正确图标/正则表达式存入 map 中，这样就可以方便地调用字典中的值了。

此外，我还想到了事件代理，通过监听外层 div，并追踪 event.target，可以快速、轻便地实现监听功能。这样，我就不用写很多 addEventListener 方法了。不过实际使用过程中，我发现对外层 div 监听“focus”和“blur”没有效果，因此我还是单独监听了内部 input 元素的监听事件。

## 4. 总结

总的来说，这次作业难度不大，通过这个小项目，我提升了对 form 表单元素和 flex 布局的熟悉程度，以及对事件代理的掌握。此外，我还练习了代码复用，以及对性能优化的理解。同时，我也学会了如何通过正则表达式来验证输入框的内容是否符合要求。总之，此次练习我获益匪浅！

## 5. 改善

根据老师的批改结果，修复了两次密码框同时输入"a"，判断逻辑异常的问题。原因在于判断密码确认模块时，忘记判断该模块是否也符合正则式，导致出错。添加判断后解决该问题。
